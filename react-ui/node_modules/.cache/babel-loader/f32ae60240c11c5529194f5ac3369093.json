{"ast":null,"code":"import _objectSpread from\"C:\\\\Projects\\\\React Samples\\\\react-crud-web-api\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Projects\\\\React Samples\\\\react-crud-web-api\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Projects\\\\React Samples\\\\react-crud-web-api\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Projects\\\\React Samples\\\\react-crud-web-api\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Projects\\\\React Samples\\\\react-crud-web-api\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Projects\\\\React Samples\\\\react-crud-web-api\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Projects\\\\React Samples\\\\react-crud-web-api\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import TutorialDataService from\"../services/tutorial.service\";var Tutorial=/*#__PURE__*/function(_Component){_inherits(Tutorial,_Component);function Tutorial(props){var _this;_classCallCheck(this,Tutorial);_this=_possibleConstructorReturn(this,_getPrototypeOf(Tutorial).call(this,props));_this.onChangeTitle=_this.onChangeTitle.bind(_assertThisInitialized(_this));_this.onChangeDescription=_this.onChangeDescription.bind(_assertThisInitialized(_this));_this.getTutorial=_this.getTutorial.bind(_assertThisInitialized(_this));_this.updatePublished=_this.updatePublished.bind(_assertThisInitialized(_this));_this.updateTutorial=_this.updateTutorial.bind(_assertThisInitialized(_this));_this.deleteTutorial=_this.deleteTutorial.bind(_assertThisInitialized(_this));_this.state={currentTutorial:{id:null,title:\"\",description:\"\",published:false},message:\"\"};return _this;}_createClass(Tutorial,[{key:\"componentDidMount\",value:function componentDidMount(){this.getTutorial(this.props.match.params.id);}},{key:\"onChangeTitle\",value:function onChangeTitle(e){var title=e.target.value;this.setState(function(prevState){return{currentTutorial:_objectSpread({},prevState.currentTutorial,{title:title})};});}},{key:\"onChangeDescription\",value:function onChangeDescription(e){var description=e.target.value;this.setState(function(prevState){return{currentTutorial:_objectSpread({},prevState.currentTutorial,{description:description})};});}},{key:\"getTutorial\",value:function getTutorial(id){var _this2=this;TutorialDataService.get(id).then(function(response){_this2.setState({currentTutorial:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"updatePublished\",value:function updatePublished(status){var _this3=this;var data={id:this.state.currentTutorial.id,title:this.state.currentTutorial.title,description:this.state.currentTutorial.description,published:status};TutorialDataService.update(this.state.currentTutorial.id,data).then(function(response){_this3.setState(function(prevState){return{currentTutorial:_objectSpread({},prevState.currentTutorial,{published:status})};});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"updateTutorial\",value:function updateTutorial(){var _this4=this;TutorialDataService.update(this.state.currentTutorial.id,this.state.currentTutorial).then(function(response){console.log(response.data);_this4.setState({message:\"The tutorial was updated successfully!\"});}).catch(function(e){console.log(e);});}},{key:\"deleteTutorial\",value:function deleteTutorial(){var _this5=this;TutorialDataService.delete(this.state.currentTutorial.id).then(function(response){console.log(response.data);_this5.props.history.push('/tutorials');}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var _this6=this;var currentTutorial=this.state.currentTutorial;return React.createElement(\"div\",null,currentTutorial?React.createElement(\"div\",{className:\"edit-form\"},React.createElement(\"h4\",null,\"Tutorial\"),React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"title\"},\"Title\"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",value:currentTutorial.title,onChange:this.onChangeTitle})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"description\"},\"Description\"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",value:currentTutorial.description,onChange:this.onChangeDescription})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Status:\")),currentTutorial.published?\"Published\":\"Pending\")),currentTutorial.published?React.createElement(\"button\",{className:\"badge badge-primary mr-2\",onClick:function onClick(){return _this6.updatePublished(false);}},\"UnPublish\"):React.createElement(\"button\",{className:\"badge badge-primary mr-2\",onClick:function onClick(){return _this6.updatePublished(true);}},\"Publish\"),React.createElement(\"button\",{className:\"badge badge-danger mr-2\",onClick:this.deleteTutorial},\"Delete\"),React.createElement(\"button\",{type:\"submit\",className:\"badge badge-success\",onClick:this.updateTutorial},\"Update\"),React.createElement(\"p\",null,this.state.message)):React.createElement(\"div\",null,React.createElement(\"br\",null),React.createElement(\"p\",null,\"Please click on a Tutorial...\")));}}]);return Tutorial;}(Component);export{Tutorial as default};","map":{"version":3,"sources":["C:/Projects/React Samples/react-crud-web-api/src/components/tutorial.component.js"],"names":["React","Component","TutorialDataService","Tutorial","props","onChangeTitle","bind","onChangeDescription","getTutorial","updatePublished","updateTutorial","deleteTutorial","state","currentTutorial","id","title","description","published","message","match","params","e","target","value","setState","prevState","get","then","response","data","console","log","catch","status","update","delete","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport TutorialDataService from \"../services/tutorial.service\";\r\n\r\nexport default class Tutorial extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeTitle = this.onChangeTitle.bind(this);\r\n    this.onChangeDescription = this.onChangeDescription.bind(this);\r\n    this.getTutorial = this.getTutorial.bind(this);\r\n    this.updatePublished = this.updatePublished.bind(this);\r\n    this.updateTutorial = this.updateTutorial.bind(this);\r\n    this.deleteTutorial = this.deleteTutorial.bind(this);\r\n\r\n    this.state = {\r\n      currentTutorial: {\r\n        id: null,\r\n        title: \"\",\r\n        description: \"\",\r\n        published: false\r\n      },\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getTutorial(this.props.match.params.id);\r\n  }\r\n\r\n  onChangeTitle(e) {\r\n    const title = e.target.value;\r\n\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentTutorial: {\r\n          ...prevState.currentTutorial,\r\n          title: title\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  onChangeDescription(e) {\r\n    const description = e.target.value;\r\n    \r\n    this.setState(prevState => ({\r\n      currentTutorial: {\r\n        ...prevState.currentTutorial,\r\n        description: description\r\n      }\r\n    }));\r\n  }\r\n\r\n  getTutorial(id) {\r\n    TutorialDataService.get(id)\r\n      .then(response => {\r\n        this.setState({\r\n          currentTutorial: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  updatePublished(status) {\r\n    var data = {\r\n      id: this.state.currentTutorial.id,\r\n      title: this.state.currentTutorial.title,\r\n      description: this.state.currentTutorial.description,\r\n      published: status\r\n    };\r\n\r\n    TutorialDataService.update(this.state.currentTutorial.id, data)\r\n      .then(response => {\r\n        this.setState(prevState => ({\r\n          currentTutorial: {\r\n            ...prevState.currentTutorial,\r\n            published: status\r\n          }\r\n        }));\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  updateTutorial() {\r\n    TutorialDataService.update(\r\n      this.state.currentTutorial.id,\r\n      this.state.currentTutorial\r\n    )\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.setState({\r\n          message: \"The tutorial was updated successfully!\"\r\n        });\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  deleteTutorial() {    \r\n    TutorialDataService.delete(this.state.currentTutorial.id)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.props.history.push('/tutorials')\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { currentTutorial } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {currentTutorial ? (\r\n          <div className=\"edit-form\">\r\n            <h4>Tutorial</h4>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"title\">Title</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"title\"\r\n                  value={currentTutorial.title}\r\n                  onChange={this.onChangeTitle}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"description\">Description</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"description\"\r\n                  value={currentTutorial.description}\r\n                  onChange={this.onChangeDescription}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>\r\n                  <strong>Status:</strong>\r\n                </label>\r\n                {currentTutorial.published ? \"Published\" : \"Pending\"}\r\n              </div>\r\n            </form>\r\n\r\n            {currentTutorial.published ? (\r\n              <button\r\n                className=\"badge badge-primary mr-2\"\r\n                onClick={() => this.updatePublished(false)}\r\n              >\r\n                UnPublish\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"badge badge-primary mr-2\"\r\n                onClick={() => this.updatePublished(true)}\r\n              >\r\n                Publish\r\n              </button>\r\n            )}\r\n\r\n            <button\r\n              className=\"badge badge-danger mr-2\"\r\n              onClick={this.deleteTutorial}\r\n            >\r\n              Delete\r\n            </button>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"badge badge-success\"\r\n              onClick={this.updateTutorial}\r\n            >\r\n              Update\r\n            </button>\r\n            <p>{this.state.message}</p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <br />\r\n            <p>Please click on a Tutorial...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}