{"ast":null,"code":"import _classCallCheck from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import CustomerDataService from\"../services/customer.service\";import{Link}from\"react-router-dom\";var CustomersList=/*#__PURE__*/function(_Component){_inherits(CustomersList,_Component);function CustomersList(props){var _this;_classCallCheck(this,CustomersList);_this=_possibleConstructorReturn(this,_getPrototypeOf(CustomersList).call(this,props));_this.onChangeSearchTitle=_this.onChangeSearchTitle.bind(_assertThisInitialized(_this));_this.retrieveCustomers=_this.retrieveCustomers.bind(_assertThisInitialized(_this));_this.refreshList=_this.refreshList.bind(_assertThisInitialized(_this));_this.setActiveCustomer=_this.setActiveCustomer.bind(_assertThisInitialized(_this));_this.removeAllCustomers=_this.removeAllCustomers.bind(_assertThisInitialized(_this));_this.searchTitle=_this.searchTitle.bind(_assertThisInitialized(_this));_this.state={Customers:[],currentCustomer:null,currentIndex:-1,searchKey:\"\",searchTitleError:\"\"};return _this;}_createClass(CustomersList,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveCustomers();}},{key:\"onChangeSearchTitle\",value:function onChangeSearchTitle(e){var searchTitle=e.target.value;this.setState({searchTitle:searchTitle});}},{key:\"retrieveCustomers\",value:function retrieveCustomers(){var _this2=this;CustomerDataService.getAll().then(function(response){_this2.setState({Customers:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"refreshList\",value:function refreshList(){this.retrieveCustomers();this.setState({currentCustomer:null,currentIndex:-1});}},{key:\"setActiveCustomer\",value:function setActiveCustomer(Customer,index){this.setState({currentCustomer:Customer,currentIndex:index});}},{key:\"removeAllCustomers\",value:function removeAllCustomers(){var _this3=this;CustomerDataService.deleteAll().then(function(response){console.log(response.data);_this3.refreshList();}).catch(function(e){console.log(e);});}},{key:\"searchTitle\",value:function searchTitle(){var title=this.state.searchTitle;this.state.searchTitle=\"Coming Soon\";}},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,searchTitle=_this$state.searchTitle,Customers=_this$state.Customers,currentCustomer=_this$state.currentCustomer,currentIndex=_this$state.currentIndex,searchTitleError=_this$state.searchTitleError;return React.createElement(\"div\",{className:\"list row\"},React.createElement(\"div\",{className:\"col-md-8\"},React.createElement(\"div\",{className:\"input-group mb-3\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Coming Soon\",value:searchTitle,onChange:this.onChangeSearchTitle}),React.createElement(\"div\",{className:\"input-group-append\"},React.createElement(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:this.searchTitle},\"Search\")))),React.createElement(\"div\",null),searchTitleError!==''?React.createElement(\"div\",{class:\"alert alert-dsanger\",role:\"alert\"},searchTitleError):null,React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"h6\",null,\"Select a customer below...  \"),React.createElement(\"ul\",{className:\"list-group\"},Customers&&Customers.map(function(Customer,index){return React.createElement(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return _this4.setActiveCustomer(Customer,index);},key:Customer.customerId},Customer.title,\"  \",Customer.firstName,\" \",Customer.lastName);}))),React.createElement(\"div\",{className:\"col-md-6\"},currentCustomer?React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Details\"),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Full Name:\")),\" \",currentCustomer.title,\" \",currentCustomer.firstName,\" \",currentCustomer.lastName),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Date of Birth:\")),\" \",currentCustomer.dateOfBirth),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Email:\")),\" \",currentCustomer.emailAddress),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Phone Number:\")),\" \",currentCustomer.mobilePhoneNo),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Suburb:\")),\" \",currentCustomer.suburbCity),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Post code:\")),\" \",currentCustomer.postCode),React.createElement(Link,{to:\"/Customers/\"+currentCustomer,className:\"badge badge-warning\"},\"Edit\"),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",React.createElement(\"button\",{className:\"badge badge-danger mr-2\",onClick:this.deleteCustomer},\"Delete\")):React.createElement(\"div\",null)));}}]);return CustomersList;}(Component);export{CustomersList as default};","map":{"version":3,"sources":["C:/Dev/Malindo/MalindoTestUI/react-ui/src/components/customers-list.js"],"names":["React","Component","CustomerDataService","Link","CustomersList","props","onChangeSearchTitle","bind","retrieveCustomers","refreshList","setActiveCustomer","removeAllCustomers","searchTitle","state","Customers","currentCustomer","currentIndex","searchKey","searchTitleError","e","target","value","setState","getAll","then","response","data","console","log","catch","Customer","index","deleteAll","title","map","customerId","firstName","lastName","dateOfBirth","emailAddress","mobilePhoneNo","suburbCity","postCode","deleteCustomer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport CustomerDataService from \"../services/customer.service\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class CustomersList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\r\n    this.retrieveCustomers = this.retrieveCustomers.bind(this);\r\n    this.refreshList = this.refreshList.bind(this);\r\n    this.setActiveCustomer = this.setActiveCustomer.bind(this);\r\n    this.removeAllCustomers = this.removeAllCustomers.bind(this);\r\n    this.searchTitle = this.searchTitle.bind(this);\r\n    this.state = {\r\n      Customers: [],\r\n      currentCustomer: null,\r\n      currentIndex: -1,\r\n      searchKey: \"\",\r\n      searchTitleError: \"\"\r\n    };  \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.retrieveCustomers();\r\n  }\r\n\r\n  onChangeSearchTitle(e) {\r\n    const searchTitle = e.target.value;\r\n\r\n    this.setState({\r\n      searchTitle: searchTitle\r\n    });\r\n  }\r\n\r\n  retrieveCustomers() {\r\n    CustomerDataService.getAll()\r\n      .then(response => {\r\n        this.setState({\r\n          Customers: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  refreshList() {\r\n    this.retrieveCustomers();\r\n    this.setState({\r\n      currentCustomer: null,\r\n      currentIndex: -1\r\n    });\r\n  }\r\n\r\n  setActiveCustomer(Customer, index) {\r\n    this.setState({\r\n      currentCustomer: Customer,\r\n      currentIndex: index\r\n    });\r\n  }\r\n\r\n  removeAllCustomers() {\r\n    CustomerDataService.deleteAll()\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.refreshList();\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  searchTitle() {\r\n    var title = this.state.searchTitle;    \r\n    this.state.searchTitle=\"Coming Soon\";\r\n  }\r\n\r\n  render() {\r\n    const { searchTitle, Customers, currentCustomer, currentIndex, searchTitleError} = this.state;\r\n    return (\r\n      <div className=\"list row\">\r\n        <div className=\"col-md-8\">\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Coming Soon\"\r\n              value={searchTitle}\r\n              onChange={this.onChangeSearchTitle}\r\n            />            \r\n            <div className=\"input-group-append\">\r\n              <button\r\n                className=\"btn btn-outline-secondary\"\r\n                type=\"button\"\r\n                onClick={this.searchTitle}\r\n              >\r\n                Search\r\n              </button>             \r\n            </div>            \r\n          </div>\r\n        </div>\r\n        <div>\r\n        </div>\r\n        \r\n        {searchTitleError !== '' ? \r\n        <div class=\"alert alert-dsanger\" role=\"alert\">\r\n        {searchTitleError}\r\n        </div>\r\n        : null}       \r\n\r\n        <div className=\"col-md-6\">\r\n          <h6>Select a customer below...  </h6>\r\n          <ul className=\"list-group\">\r\n            {Customers &&\r\n              Customers.map((Customer, index) => (\r\n                <li\r\n                  className={\r\n                    \"list-group-item \" +\r\n                    (index === currentIndex ? \"active\" : \"\")\r\n                  }\r\n                  onClick={() => this.setActiveCustomer(Customer, index)}\r\n                  key={Customer.customerId}\r\n                >\r\n                  {Customer.title}  {Customer.firstName} {Customer.lastName}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          {currentCustomer ? (\r\n            <div>\r\n              <h4>Details</h4>\r\n              <div> \r\n                <label>\r\n                  <strong>Full Name:</strong>\r\n                </label>{\" \"}\r\n                {currentCustomer.title} {currentCustomer.firstName} {currentCustomer.lastName}\r\n              </div>\r\n              <div>\r\n                <label>\r\n                  <strong>Date of Birth:</strong>\r\n                </label>{\" \"}\r\n                {currentCustomer.dateOfBirth} \r\n              </div>\r\n              <div>\r\n                <label>\r\n                  <strong>Email:</strong>\r\n                </label>{\" \"}\r\n                {currentCustomer.emailAddress} \r\n              </div>\r\n              <div>\r\n                <label>\r\n                  <strong>Phone Number:</strong>\r\n                </label>{\" \"}\r\n                {currentCustomer.mobilePhoneNo} \r\n              </div>\r\n              <div>\r\n                <label>\r\n                  <strong>Suburb:</strong>\r\n                </label>{\" \"}\r\n                {currentCustomer.suburbCity} \r\n              </div>\r\n              <div>\r\n                <label>\r\n                  <strong>Post code:</strong>\r\n                </label>{\" \"}\r\n                {currentCustomer.postCode} \r\n              </div>\r\n              <Link\r\n                to={\"/Customers/\" + currentCustomer}\r\n                className=\"badge badge-warning\"\r\n              >\r\n                Edit\r\n              </Link>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n              <button\r\n              className=\"badge badge-danger mr-2\"\r\n              onClick={this.deleteCustomer}\r\n            >\r\n              Delete\r\n            </button>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n          \r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}