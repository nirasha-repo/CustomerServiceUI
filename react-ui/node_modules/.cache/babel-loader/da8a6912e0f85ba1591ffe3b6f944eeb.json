{"ast":null,"code":"import _objectSpread from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Dev\\\\Malindo\\\\MalindoTestUI\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import qs from'qs';import CustomerDataService from\"../services/customer.service\";var AddCustomer=/*#__PURE__*/function(_Component){_inherits(AddCustomer,_Component);function AddCustomer(props){var _this;_classCallCheck(this,AddCustomer);_this=_possibleConstructorReturn(this,_getPrototypeOf(AddCustomer).call(this,props));_this.onChangeTitle=_this.onChangeTitle.bind(_assertThisInitialized(_this));_this.onChangeFirstName=_this.onChangeFirstName.bind(_assertThisInitialized(_this));_this.onChangeLastName=_this.onChangeLastName.bind(_assertThisInitialized(_this));_this.onChangeEmail=_this.onChangeEmail.bind(_assertThisInitialized(_this));_this.onChangeDateOfBirth=_this.onChangeDateOfBirth.bind(_assertThisInitialized(_this));_this.onChangePhoneNumber=_this.onChangePhoneNumber.bind(_assertThisInitialized(_this));_this.onChangeAddress=_this.onChangeAddress.bind(_assertThisInitialized(_this));_this.onChangeSuburb=_this.onChangeSuburb.bind(_assertThisInitialized(_this));_this.onChangePostcode=_this.onChangePostcode.bind(_assertThisInitialized(_this));_this.saveCustomer=_this.saveCustomer.bind(_assertThisInitialized(_this));_this.newCustomer=_this.newCustomer.bind(_assertThisInitialized(_this));_this.state={customer:{title:'Mr.'},id:null,published:false,submitted:false,errorMessage:''};return _this;}_createClass(AddCustomer,[{key:\"setCustomer\",value:function setCustomer(customer){this.setState({customer:customer});}},{key:\"onChangeTitle\",value:function onChangeTitle(e){var customer=_objectSpread({},this.state.customer);customer.title=e.target.value;this.setCustomer(customer);}},{key:\"onChangeFirstName\",value:function onChangeFirstName(e){var customer=_objectSpread({},this.state.customer);customer.firstName=e.target.value;this.setCustomer(customer);}},{key:\"onChangeLastName\",value:function onChangeLastName(e){var customer=_objectSpread({},this.state.customer);customer.lastName=e.target.value;this.setCustomer(customer);}},{key:\"onChangeEmail\",value:function onChangeEmail(e){var customer=_objectSpread({},this.state.customer);customer.emailAddress=e.target.value;this.setCustomer(customer);}},{key:\"onChangeDateOfBirth\",value:function onChangeDateOfBirth(e){var customer=_objectSpread({},this.state.customer);customer.dateOfBirth=e.target.value;this.setCustomer(customer);}},{key:\"onChangePhoneNumber\",value:function onChangePhoneNumber(e){var customer=_objectSpread({},this.state.customer);customer.mobilePhoneNo=e.target.value;this.setCustomer(customer);}},{key:\"onChangeAddress\",value:function onChangeAddress(e){var customer=_objectSpread({},this.state.customer);customer.streetAddress=e.target.value;this.setCustomer(customer);}},{key:\"onChangeSuburb\",value:function onChangeSuburb(e){var customer=_objectSpread({},this.state.customer);customer.suburbCity=e.target.value;this.setCustomer(customer);}},{key:\"onChangePostcode\",value:function onChangePostcode(e){var customer=_objectSpread({},this.state.customer);customer.postCode=e.target.value;this.setCustomer(customer);}},{key:\"validateCustomer\",value:function validateCustomer(){var customer=this.state.customer;if(customer.firstName===undefined||customer.firstName===''){return{isValid:false,message:'First Name cannot be empty!'};}if(!/^[a-zA-Z ]+$/.test(customer.firstName)){return{isValid:false,message:'Please enter only alphabetical letters for First Name!'};}if(customer.lastName===undefined||customer.lastName===''){return{isValid:false,message:'Last Name cannot be empty!'};}if(!/^[a-zA-Z ]+$/.test(customer.lastName)){return{isValid:false,message:'Please enter only alphabetical letters for Last Name!'};}if(customer.emailAddress===undefined||customer.emailAddress===''){return{isValid:false,message:'Email cannot be empty!'};}if(!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(customer.emailAddress)){return{isValid:false,message:'Invalid emailAddress!'};}if(customer.dateOfBirth===undefined||customer.dateOfBirth===''){return{isValid:false,message:'Date of Birth cannot be empty!'};}if(!/^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})$/.test(customer.dateOfBirth)){return{isValid:false,message:'Invalid date of birth!'};}if(customer.mobilePhoneNo!==undefined&&customer.mobilePhoneNo!==''&&!/^[0-9]+$/.test(customer.mobilePhoneNo)){return{isValid:false,message:'Please enter only numerics for Phone Number!'};}if(customer.postCode!==undefined&&customer.postCode!==''&&!/^[0-9]+$/.test(customer.postCode)){return{isValid:false,message:'Please enter only numerics for Postcode!'};}return{isValid:true,message:''};}},{key:\"saveCustomer\",value:function saveCustomer(){var _this2=this;var data=this.state.customer;var error=this.validateCustomer();debugger;if(error.isValid){this.setState({errorMessage:''});var req=qs.stringify({data:data});debugger;CustomerDataService.create(req).then(function(response){_this2.setState({published:response.data.published,submitted:true});console.log(response.data);}).catch(function(e){console.log(e);debugger;_this2.setState({errorMessage:'Internal server error!'});});}else{this.setState({errorMessage:error.message});}}},{key:\"newCustomer\",value:function newCustomer(){this.setState({id:null,title:\"\",description:\"\",published:false,submitted:false});}},{key:\"render\",value:function render(){var errorMessage=this.state.errorMessage;return React.createElement(\"div\",{className:\"submit-form\"},this.state.submitted?React.createElement(\"div\",null,React.createElement(\"h4\",null,\"You submitted successfully!\"),React.createElement(\"button\",{className:\"btn btn-success\",onClick:this.newCustomer},\"Add\")):React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Add Customer \"),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"salutation\"},\"Title \",React.createElement(\"span\",{className:\"text-danger\"},\"*\")),React.createElement(\"select\",{className:\"form-control\",onChange:this.onChangeSalutation,name:\"salutation\"},React.createElement(\"option\",{value:\"Mr.\"},\"Mr.\"),React.createElement(\"option\",{value:\"Mrs.\"},\"Mrs.\"),React.createElement(\"option\",{value:\"Miss\"},\"Miss.\"),React.createElement(\"option\",{value:\"Mstr.\"},\"Mstr.\"))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"firstName\"},\"First Name \",React.createElement(\"span\",{className:\"text-danger\"},\"*\")),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"firstName\",required:true,value:this.state.customer.firstName,onChange:this.onChangeFirstName,name:\"firstName\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"lastName\"},\"Last Name \",React.createElement(\"span\",{className:\"text-danger\"},\"*\")),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"lastName\",required:true,value:this.state.customer.lastName,onChange:this.onChangeLastName,name:\"lastName\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"emailAddress\"},\"Email \",React.createElement(\"span\",{className:\"text-danger\"},\"*\")),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"emailAddress\",required:true,value:this.state.customer.emailAddress,onChange:this.onChangeEmail,name:\"emailAddress\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"dateOfBirth\"},\"Date of Birth \",React.createElement(\"span\",{className:\"text-danger\"},\"*\")),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"dateOfBirth\",required:true,value:this.state.customer.dateOfBirth,onChange:this.onChangeDateOfBirth,name:\"dateOfBirth\"}),\"ex: 15/06/1997\"),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"mobilePhoneNo\"},\"Phone Number\"),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"mobilePhoneNo\",required:true,value:this.state.customer.mobilePhoneNo,onChange:this.onChangePhoneNumber,name:\"mobilePhoneNo\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"streetAddress\"},\"Address\"),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"streetAddress\",required:true,value:this.state.customer.streetAddress,onChange:this.onChangeAddress,name:\"streetAddress\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"suburbCity\"},\"Suburb\"),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"suburbCity\",required:true,value:this.state.customer.suburbCity,onChange:this.onChangeSuburb,name:\"suburbCity\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"postCode\"},\"Postcode\"),React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",className:\"form-control\",id:\"postCode\",required:true,value:this.state.customer.postCode,onChange:this.onChangePostcode,name:\"postCode\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"button\",{onClick:this.saveCustomer,className:\"btn btn-success\"},\"Add\")),React.createElement(\"div\",{className:\"form-group\"},errorMessage!==''?React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},errorMessage):null)));}}]);return AddCustomer;}(Component);export{AddCustomer as default};","map":{"version":3,"sources":["C:/Dev/Malindo/MalindoTestUI/react-ui/src/components/add-customer.js"],"names":["React","Component","qs","CustomerDataService","AddCustomer","props","onChangeTitle","bind","onChangeFirstName","onChangeLastName","onChangeEmail","onChangeDateOfBirth","onChangePhoneNumber","onChangeAddress","onChangeSuburb","onChangePostcode","saveCustomer","newCustomer","state","customer","title","id","published","submitted","errorMessage","setState","e","target","value","setCustomer","firstName","lastName","emailAddress","dateOfBirth","mobilePhoneNo","streetAddress","suburbCity","postCode","undefined","isValid","message","test","data","error","validateCustomer","req","stringify","create","then","response","console","log","catch","description","onChangeSalutation"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport qs from 'qs'\r\nimport CustomerDataService from \"../services/customer.service\";\r\n\r\nexport default class AddCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeTitle = this.onChangeTitle.bind(this);\r\n    this.onChangeFirstName = this.onChangeFirstName.bind(this);\r\n    this.onChangeLastName = this.onChangeLastName.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangeDateOfBirth = this.onChangeDateOfBirth.bind(this);\r\n    this.onChangePhoneNumber = this.onChangePhoneNumber.bind(this);\r\n    this.onChangeAddress = this.onChangeAddress.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n    this.onChangePostcode = this.onChangePostcode.bind(this);\r\n    this.saveCustomer = this.saveCustomer.bind(this);\r\n    this.newCustomer = this.newCustomer.bind(this);    \r\n\r\n    this.state = {\r\n      customer: {title: 'Mr.'},      \r\n      id: null,\r\n      published: false,\r\n      submitted: false,\r\n      errorMessage: ''   \r\n    };\r\n  }\r\n\r\n  setCustomer(customer) {\r\n    this.setState({\r\n      customer: customer\r\n    });\r\n  }\r\n\r\n  onChangeTitle(e) {   \r\n    const customer = {...this.state.customer};\r\n    customer.title = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangeFirstName(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.firstName = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangeLastName(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.lastName = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.emailAddress = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangeDateOfBirth(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.dateOfBirth = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangePhoneNumber(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.mobilePhoneNo = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangeAddress(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.streetAddress = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangeSuburb(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.suburbCity = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  onChangePostcode(e) {\r\n    const customer = {...this.state.customer};\r\n    customer.postCode = e.target.value;\r\n    this.setCustomer(customer);\r\n  }\r\n\r\n  validateCustomer() {\r\n    var customer = this.state.customer;\r\n\r\n    if(customer.firstName === undefined || customer.firstName === '') {\r\n      return {isValid: false, message: 'First Name cannot be empty!'};      \r\n    }\r\n     \r\n    if(!(/^[a-zA-Z ]+$/.test(customer.firstName))) {\r\n      return {isValid: false, message: 'Please enter only alphabetical letters for First Name!'};      \r\n    }\r\n\r\n    if(customer.lastName === undefined || customer.lastName === '') {\r\n      return {isValid: false, message: 'Last Name cannot be empty!'};      \r\n    }\r\n     \r\n    if(!(/^[a-zA-Z ]+$/.test(customer.lastName))) {\r\n      return {isValid: false, message: 'Please enter only alphabetical letters for Last Name!'};      \r\n    }\r\n\r\n    if(customer.emailAddress === undefined || customer.emailAddress === '') {\r\n      return {isValid: false, message: 'Email cannot be empty!'};      \r\n    }\r\n     \r\n    if(!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(customer.emailAddress))) {\r\n      return {isValid: false, message: 'Invalid emailAddress!'};      \r\n    }\r\n\r\n    if(customer.dateOfBirth === undefined || customer.dateOfBirth === '') {\r\n      return {isValid: false, message: 'Date of Birth cannot be empty!'};      \r\n    }\r\n     \r\n    if(!(/^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})$/.test(customer.dateOfBirth))) {\r\n      return {isValid: false, message: 'Invalid date of birth!'};      \r\n    }\r\n     \r\n    if(customer.mobilePhoneNo !== undefined && customer.mobilePhoneNo !== '' && !(/^[0-9]+$/.test(customer.mobilePhoneNo))) {\r\n      return {isValid: false, message: 'Please enter only numerics for Phone Number!'};      \r\n    }  \r\n\r\n    if(customer.postCode !== undefined && customer.postCode !== '' && !(/^[0-9]+$/.test(customer.postCode))) {\r\n      return {isValid: false, message: 'Please enter only numerics for Postcode!'};      \r\n    } \r\n    \r\n    return {isValid: true, message: ''};\r\n  }\r\n\r\n  saveCustomer() {\r\n    var data = this.state.customer;\r\n    var error = this.validateCustomer();    debugger;\r\n\r\n    if(error.isValid) {\r\n      this.setState({errorMessage: ''})\r\n      var req = qs.stringify({data});debugger;\r\n      CustomerDataService.create(req)\r\n      .then(response => {\r\n        this.setState({\r\n          published: response.data.published,     \r\n          submitted: true\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);debugger;\r\n        this.setState({errorMessage: 'Internal server error!'})\r\n      });\r\n    }\r\n    else {\r\n      this.setState({errorMessage: error.message});\r\n    }\r\n  }\r\n\r\n  newCustomer() {\r\n    this.setState({\r\n      id: null,\r\n      title: \"\",\r\n      description: \"\",\r\n      published: false,\r\n      submitted: false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { errorMessage} = this.state;\r\n    return (\r\n      <div className=\"submit-form\">\r\n        {this.state.submitted ? (\r\n          <div>\r\n            <h4>You submitted successfully!</h4>\r\n            <button className=\"btn btn-success\" onClick={this.newCustomer}>\r\n              Add\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h4>Add Customer </h4>\r\n           \r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"salutation\">Title <span className=\"text-danger\">*</span></label>\r\n              <select className=\"form-control\" onChange={this.onChangeSalutation} name=\"salutation\">\r\n                <option value=\"Mr.\">Mr.</option>\r\n                <option value=\"Mrs.\">Mrs.</option>\r\n                <option value=\"Miss\">Miss.</option>\r\n                <option value=\"Mstr.\">Mstr.</option>    \r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"firstName\">First Name <span className=\"text-danger\">*</span></label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"firstName\"\r\n                required\r\n                value={this.state.customer.firstName}\r\n                onChange={this.onChangeFirstName}\r\n                name=\"firstName\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"lastName\">Last Name <span className=\"text-danger\">*</span></label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"lastName\"\r\n                required\r\n                value={this.state.customer.lastName}\r\n                onChange={this.onChangeLastName}\r\n                name=\"lastName\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"emailAddress\">Email <span className=\"text-danger\">*</span></label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"emailAddress\"\r\n                required\r\n                value={this.state.customer.emailAddress}\r\n                onChange={this.onChangeEmail}\r\n                name=\"emailAddress\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"dateOfBirth\">Date of Birth <span className=\"text-danger\">*</span></label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"dateOfBirth\"\r\n                required\r\n                value={this.state.customer.dateOfBirth}\r\n                onChange={this.onChangeDateOfBirth}\r\n                name=\"dateOfBirth\"\r\n              />\r\n              ex: 15/06/1997\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"mobilePhoneNo\">Phone Number</label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"mobilePhoneNo\"\r\n                required\r\n                value={this.state.customer.mobilePhoneNo}\r\n                onChange={this.onChangePhoneNumber}\r\n                name=\"mobilePhoneNo\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"streetAddress\">Address</label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"streetAddress\"\r\n                required\r\n                value={this.state.customer.streetAddress}\r\n                onChange={this.onChangeAddress}\r\n                name=\"streetAddress\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"suburbCity\">Suburb</label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"suburbCity\"\r\n                required\r\n                value={this.state.customer.suburbCity}\r\n                onChange={this.onChangeSuburb}\r\n                name=\"suburbCity\"\r\n              />\r\n            </div>\t\t\t\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"postCode\">Postcode</label>\r\n              <input\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"form-control\"\r\n                id=\"postCode\"\r\n                required\r\n                value={this.state.customer.postCode}\r\n                onChange={this.onChangePostcode}\r\n                name=\"postCode\"\r\n              />\r\n            </div>            \r\n\r\n            <div className=\"form-group\">\r\n              <button onClick={this.saveCustomer} className=\"btn btn-success\">\r\n                Add\r\n              </button>\r\n            </div> \r\n\r\n            <div className=\"form-group\">     \r\n                {errorMessage !== '' ? \r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                  {errorMessage}\r\n                  </div>\r\n                  : null} \r\n            </div>\r\n            \r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}